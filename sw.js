let CACHE_NAME="butterfly-v1",urlsToCache=["/","/css/index.css","/js/main.js","/img/favicon.png","/fonts/main-font.woff2"];self.addEventListener("install",e=>{e.waitUntil(caches.open(CACHE_NAME).then(e=>(console.log("Opened cache"),e.addAll(urlsToCache))))}),self.addEventListener("fetch",n=>{n.respondWith(caches.match(n.request).then(e=>e||(e=n.request.clone(),fetch(e).then(e=>{if(e&&200===e.status&&"basic"===e.type){let t=e.clone();caches.open(CACHE_NAME).then(e=>{e.put(n.request,t)})}return e}))))}),self.addEventListener("activate",e=>{let t=[CACHE_NAME];e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(-1===t.indexOf(e))return caches.delete(e)}))))});