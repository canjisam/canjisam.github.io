<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>计算机网络核心知识点详解 | 诒森的博客</title><meta name="author" content="CanJisam"><meta name="copyright" content="CanJisam"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="深入解析计算机网络核心知识点，涵盖HTTP&#x2F;HTTPS、TCP&#x2F;IP、DNS、负载均衡、网络优化等笔试面试高频考点，包含详细原理分析和实战案例。"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络核心知识点详解"><meta property="og:url" content="https://canjisam.github.io/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/index.html"><meta property="og:site_name" content="诒森的博客"><meta property="og:description" content="深入解析计算机网络核心知识点，涵盖HTTP&#x2F;HTTPS、TCP&#x2F;IP、DNS、负载均衡、网络优化等笔试面试高频考点，包含详细原理分析和实战案例。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://canjisam.github.io/img/cover/eca45645431b46fea6db1634a45287b2_3.png"><meta property="article:published_time" content="2025-08-18T15:33:50.000Z"><meta property="article:modified_time" content="2025-08-19T15:38:04.643Z"><meta property="article:author" content="CanJisam"><meta property="article:tag" content="计算机网络"><meta property="article:tag" content="HTTP"><meta property="article:tag" content="HTTPS"><meta property="article:tag" content="TCP&#x2F;IP"><meta property="article:tag" content="DNS"><meta property="article:tag" content="负载均衡"><meta property="article:tag" content="网络优化"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://canjisam.github.io/img/cover/eca45645431b46fea6db1634a45287b2_3.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "计算机网络核心知识点详解",
  "url": "https://canjisam.github.io/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/",
  "image": "https://canjisam.github.io/img/cover/eca45645431b46fea6db1634a45287b2_3.png",
  "datePublished": "2025-08-18T15:33:50.000Z",
  "dateModified": "2025-08-19T15:38:04.643Z",
  "author": [
    {
      "@type": "Person",
      "name": "CanJisam",
      "url": "https://canjisam.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://canjisam.github.io/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=5.3.5"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#1a1a2e")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),r=window.matchMedia("(prefers-color-scheme: dark)"),c=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(c.matches)a();else if(r.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}r.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?o():a())})}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"prismjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:600,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"null",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"计算机网络核心知识点详解",isHighlightShrink:!0,isToc:!0,pageType:"post"}</script><script>window.XF_API_KEY="33ec326f4348794e214e464ff2990f32",window.XF_API_SECRET="NDQ3NGYyZWMwZWQ0ZWQ4ZWUzMTMwY2Y4"</script><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions={restartOnPushState:!1},btf.addGlobalFn("pjaxSend",()=>{Pace.restart()},"pace_restart")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">诒森的博客</span></a><a class="nav-page-title" href="/"><span class="site-name">计算机网络核心知识点详解</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">计算机网络核心知识点详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-18T15:33:50.000Z" title="发表于 2025-08-18 23:33:50">2025-08-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-19T15:38:04.643Z" title="更新于 2025-08-19 23:38:04">2025-08-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">6.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span class="min2read">28 分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/#post-comment"><span class="valine-comment-count" data-xid="/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/"></span><span class="waline-comment-count" id="/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/"></span><span class="twikoo-count"></span><span class="fb-comments-count"></span><span class="gitalk-comment-count"></span></a></span></div></div></div><article class="container post-content" id="article-container"><h1 id="计算机网络核心知识点详解"><a href="#计算机网络核心知识点详解" class="headerlink" title="计算机网络核心知识点详解"></a>计算机网络核心知识点详解</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>计算机网络是现代软件系统的基石，理解网络协议和优化技术对于开发高性能、高可用的应用系统至关重要。本文将系统梳理HTTP&#x2F;HTTPS、TCP&#x2F;IP、DNS、负载均衡、网络优化等核心知识点，结合典型面试题型进行深入解析。</p><h2 id="第一章：HTTP-HTTPS协议详解"><a href="#第一章：HTTP-HTTPS协议详解" class="headerlink" title="第一章：HTTP&#x2F;HTTPS协议详解"></a>第一章：HTTP&#x2F;HTTPS协议详解</h2><h3 id="1-1-HTTP协议基础"><a href="#1-1-HTTP协议基础" class="headerlink" title="1.1 HTTP协议基础"></a>1.1 HTTP协议基础</h3><h4 id="1-1-1-HTTP协议概述"><a href="#1-1-1-HTTP协议概述" class="headerlink" title="1.1.1 HTTP协议概述"></a>1.1.1 HTTP协议概述</h4><p>HTTP（HyperText Transfer Protocol）是一种应用层协议，基于TCP&#x2F;IP协议栈，用于在Web浏览器和服务器之间传输超文本。</p><p><strong>HTTP协议特点：</strong></p><ul><li>无连接：每次请求都需要建立新的连接（HTTP&#x2F;1.1之前）</li><li>无状态：协议对事务处理没有记忆能力</li><li>灵活：可以传输任意类型的数据</li><li>简单快速：客户端向服务器请求服务时，只需传送请求方法和路径</li></ul><h4 id="1-1-2-HTTP请求报文结构"><a href="#1-1-2-HTTP请求报文结构" class="headerlink" title="1.1.2 HTTP请求报文结构"></a>1.1.2 HTTP请求报文结构</h4><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;index.html HTTP&#x2F;1.1
Host: www.example.com
User-Agent: Mozilla&#x2F;5.0
Accept: text&#x2F;html,application&#x2F;xhtml+xml
Accept-Language: zh-CN,zh;q&#x3D;0.9
Accept-Encoding: gzip, deflate
Connection: keep-alive

请求体（可选）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>请求报文组成：</strong></p><ol><li>请求行（Request Line）：方法 + URL + 协议版本</li><li>请求头（Headers）：键值对形式</li><li>空行：分隔请求头和请求体</li><li>请求体（可选）：POST请求的数据</li></ol><h4 id="1-1-3-HTTP响应报文结构"><a href="#1-1-3-HTTP响应报文结构" class="headerlink" title="1.1.3 HTTP响应报文结构"></a>1.1.3 HTTP响应报文结构</h4><pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 200 OK
Date: Mon, 19 Dec 2024 10:00:00 GMT
Content-Type: text&#x2F;html; charset&#x3D;UTF-8
Content-Length: 1234
Server: Apache&#x2F;2.4.41
Cache-Control: max-age&#x3D;3600

&lt;html&gt;
  &lt;body&gt;Hello World&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>响应报文组成：</strong></p><ol><li>状态行：协议版本 + 状态码 + 状态描述</li><li>响应头：服务器信息、内容类型等</li><li>空行：分隔响应头和响应体</li><li>响应体：实际返回的数据</li></ol><h3 id="1-2-HTTP状态码详解"><a href="#1-2-HTTP状态码详解" class="headerlink" title="1.2 HTTP状态码详解"></a>1.2 HTTP状态码详解</h3><h4 id="1-2-1-状态码分类"><a href="#1-2-1-状态码分类" class="headerlink" title="1.2.1 状态码分类"></a>1.2.1 状态码分类</h4><table><thead><tr><th>分类</th><th>范围</th><th>描述</th></tr></thead><tbody><tr><td>1xx</td><td>100-199</td><td>信息性状态码</td></tr><tr><td>2xx</td><td>200-299</td><td>成功状态码</td></tr><tr><td>3xx</td><td>300-399</td><td>重定向状态码</td></tr><tr><td>4xx</td><td>400-499</td><td>客户端错误状态码</td></tr><tr><td>5xx</td><td>500-599</td><td>服务器错误状态码</td></tr></tbody></table><h4 id="1-2-2-常见状态码"><a href="#1-2-2-常见状态码" class="headerlink" title="1.2.2 常见状态码"></a>1.2.2 常见状态码</h4><p><strong>2xx 成功</strong></p><ul><li>200 OK：请求成功</li><li>201 Created：资源创建成功</li><li>204 No Content：请求成功但无返回内容</li></ul><p><strong>3xx 重定向</strong></p><ul><li>301 Moved Permanently：永久重定向</li><li>302 Found：临时重定向</li><li>304 Not Modified：资源未修改，使用缓存</li></ul><p><strong>4xx 客户端错误</strong></p><ul><li>400 Bad Request：请求语法错误</li><li>401 Unauthorized：未授权</li><li>403 Forbidden：服务器拒绝请求</li><li>404 Not Found：资源不存在</li></ul><p><strong>5xx 服务器错误</strong></p><ul><li>500 Internal Server Error：服务器内部错误</li><li>502 Bad Gateway：网关错误</li><li>503 Service Unavailable：服务不可用</li></ul><h3 id="1-3-HTTP方法详解"><a href="#1-3-HTTP方法详解" class="headerlink" title="1.3 HTTP方法详解"></a>1.3 HTTP方法详解</h3><h4 id="1-3-1-常用HTTP方法"><a href="#1-3-1-常用HTTP方法" class="headerlink" title="1.3.1 常用HTTP方法"></a>1.3.1 常用HTTP方法</h4><table><thead><tr><th>方法</th><th>描述</th><th>幂等性</th><th>安全性</th></tr></thead><tbody><tr><td>GET</td><td>获取资源</td><td>是</td><td>是</td></tr><tr><td>POST</td><td>创建资源</td><td>否</td><td>否</td></tr><tr><td>PUT</td><td>更新资源</td><td>是</td><td>否</td></tr><tr><td>DELETE</td><td>删除资源</td><td>是</td><td>否</td></tr><tr><td>HEAD</td><td>获取响应头</td><td>是</td><td>是</td></tr><tr><td>OPTIONS</td><td>获取支持的方法</td><td>是</td><td>是</td></tr><tr><td>PATCH</td><td>部分更新资源</td><td>否</td><td>否</td></tr></tbody></table><h4 id="1-3-2-GET-vs-POST区别"><a href="#1-3-2-GET-vs-POST区别" class="headerlink" title="1.3.2 GET vs POST区别"></a>1.3.2 GET vs POST区别</h4><table><thead><tr><th>特性</th><th>GET</th><th>POST</th></tr></thead><tbody><tr><td>参数位置</td><td>URL中</td><td>请求体中</td></tr><tr><td>数据长度</td><td>受URL长度限制</td><td>无限制</td></tr><tr><td>安全性</td><td>参数可见</td><td>参数不可见</td></tr><tr><td>幂等性</td><td>是</td><td>否</td></tr><tr><td>缓存</td><td>可被缓存</td><td>不可缓存</td></tr><tr><td>历史记录</td><td>保留在浏览器历史</td><td>不保留</td></tr></tbody></table><h3 id="1-4-HTTP版本演进"><a href="#1-4-HTTP版本演进" class="headerlink" title="1.4 HTTP版本演进"></a>1.4 HTTP版本演进</h3><h4 id="1-4-1-HTTP-1-0-vs-HTTP-1-1"><a href="#1-4-1-HTTP-1-0-vs-HTTP-1-1" class="headerlink" title="1.4.1 HTTP&#x2F;1.0 vs HTTP&#x2F;1.1"></a>1.4.1 HTTP&#x2F;1.0 vs HTTP&#x2F;1.1</h4><p><strong>HTTP&#x2F;1.0特点：</strong></p><ul><li>每次请求都需要建立新的TCP连接</li><li>不支持持久连接</li><li>不支持管道化</li></ul><p><strong>HTTP&#x2F;1.1改进：</strong></p><ul><li>默认支持持久连接（Connection: keep-alive）</li><li>支持管道化（Pipelining）</li><li>支持分块传输编码</li><li>支持虚拟主机</li><li>增加了缓存控制机制</li></ul><h4 id="1-4-2-HTTP-2特性"><a href="#1-4-2-HTTP-2特性" class="headerlink" title="1.4.2 HTTP&#x2F;2特性"></a>1.4.2 HTTP&#x2F;2特性</h4><p><strong>HTTP&#x2F;2核心特性：</strong></p><ul><li>二进制分帧：将数据分割为更小的帧进行传输</li><li>多路复用：在一个连接上并发多个请求</li><li>头部压缩：使用HPACK算法压缩头部</li><li>服务器推送：服务器可以主动向客户端推送资源</li><li>优先级和依赖：可以为请求设置优先级</li></ul><h4 id="1-4-3-HTTP-3特性"><a href="#1-4-3-HTTP-3特性" class="headerlink" title="1.4.3 HTTP&#x2F;3特性"></a>1.4.3 HTTP&#x2F;3特性</h4><p><strong>HTTP&#x2F;3核心特性：</strong></p><ul><li>基于QUIC协议（基于UDP）</li><li>内置加密（TLS 1.3）</li><li>连接迁移：网络切换时连接不中断</li><li>0-RTT恢复：更快的连接建立</li><li>无队头阻塞：解决HTTP&#x2F;2的队头阻塞问题</li></ul><h3 id="1-5-HTTPS协议详解"><a href="#1-5-HTTPS协议详解" class="headerlink" title="1.5 HTTPS协议详解"></a>1.5 HTTPS协议详解</h3><h4 id="1-5-1-HTTPS工作原理"><a href="#1-5-1-HTTPS工作原理" class="headerlink" title="1.5.1 HTTPS工作原理"></a>1.5.1 HTTPS工作原理</h4><p>HTTPS（HTTP Secure）是HTTP的安全版本，在HTTP和TCP之间加入了SSL&#x2F;TLS协议层，提供加密、身份认证和数据完整性保护。</p><p><strong>HTTPS通信过程：</strong></p><ol><li><strong>TCP三次握手</strong>：建立TCP连接</li><li><strong>SSL&#x2F;TLS握手</strong>：协商加密参数</li><li><strong>证书验证</strong>：验证服务器身份</li><li><strong>密钥交换</strong>：生成会话密钥</li><li><strong>加密通信</strong>：使用对称加密传输数据</li></ol><h4 id="1-5-2-SSL-TLS握手过程"><a href="#1-5-2-SSL-TLS握手过程" class="headerlink" title="1.5.2 SSL&#x2F;TLS握手过程"></a>1.5.2 SSL&#x2F;TLS握手过程</h4><p><strong>TLS 1.2握手过程：</strong></p><pre class="line-numbers language-none"><code class="language-none">Client                                               Server
------                                               ------
1. Client Hello      ----------------------------&gt;
                      (支持的TLS版本、随机数、加密套件)

2.                   &lt;----------------------------  Server Hello
                      (选择的TLS版本、随机数、加密套件)

3.                   &lt;----------------------------  Certificate
                      (服务器证书链)

4.                   &lt;----------------------------  Server Key Exchange
                      (可选，用于ECDHE等密钥交换)

5.                   &lt;----------------------------  Server Hello Done

6. Client Key Exchange ----------------------------&gt;
                      (预主密钥，用服务器公钥加密)

7. Change Cipher Spec ----------------------------&gt;
                      (通知启用加密)

8. Finished          ----------------------------&gt;
                      (握手消息完整性校验)

9.                   &lt;----------------------------  Change Cipher Spec

10.                  &lt;----------------------------  Finished
                      (握手消息完整性校验)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>TLS 1.3改进：</strong></p><ul><li>减少握手次数（从2-RTT到1-RTT）</li><li>更强的加密算法</li><li>前向保密性增强</li><li>移除不安全的算法</li></ul><h4 id="1-5-3-证书体系"><a href="#1-5-3-证书体系" class="headerlink" title="1.5.3 证书体系"></a>1.5.3 证书体系</h4><p><strong>证书类型：</strong></p><ul><li><strong>DV证书</strong>：域名验证，验证域名所有权</li><li><strong>OV证书</strong>：组织验证，验证组织身份</li><li><strong>EV证书</strong>：扩展验证，最严格的验证</li></ul><p><strong>证书链验证：</strong></p><pre class="line-numbers language-none"><code class="language-none">根证书CA
    ↓
中间证书CA
    ↓
服务器证书<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-5-4-HTTPS性能优化"><a href="#1-5-4-HTTPS性能优化" class="headerlink" title="1.5.4 HTTPS性能优化"></a>1.5.4 HTTPS性能优化</h4><p><strong>连接优化：</strong></p><ul><li><strong>会话复用</strong>：复用之前的TLS会话</li><li><strong>OCSP Stapling</strong>：服务器预先获取证书状态</li><li><strong>HSTS</strong>：强制使用HTTPS</li></ul><p><strong>证书优化：</strong></p><ul><li><strong>证书压缩</strong>：减少证书传输大小</li><li><strong>证书选择</strong>：选择合适的证书类型</li><li><strong>CDN证书</strong>：使用CDN提供的证书</li></ul><h2 id="第二章：TCP-IP协议详解"><a href="#第二章：TCP-IP协议详解" class="headerlink" title="第二章：TCP&#x2F;IP协议详解"></a>第二章：TCP&#x2F;IP协议详解</h2><h3 id="2-1-TCP-IP协议栈"><a href="#2-1-TCP-IP协议栈" class="headerlink" title="2.1 TCP&#x2F;IP协议栈"></a>2.1 TCP&#x2F;IP协议栈</h3><h4 id="2-1-1-协议栈分层"><a href="#2-1-1-协议栈分层" class="headerlink" title="2.1.1 协议栈分层"></a>2.1.1 协议栈分层</h4><table><thead><tr><th>层级</th><th>协议</th><th>数据单元</th><th>功能</th></tr></thead><tbody><tr><td>应用层</td><td>HTTP, FTP, SMTP</td><td>报文</td><td>应用程序间通信</td></tr><tr><td>传输层</td><td>TCP, UDP</td><td>段&#x2F;数据报</td><td>端到端通信</td></tr><tr><td>网络层</td><td>IP, ICMP, ARP</td><td>数据包</td><td>路由和寻址</td></tr><tr><td>数据链路层</td><td>Ethernet, Wi-Fi</td><td>帧</td><td>物理网络传输</td></tr><tr><td>物理层</td><td>电缆, 光纤</td><td>比特</td><td>原始比特流传输</td></tr></tbody></table><h4 id="2-1-2-数据封装过程"><a href="#2-1-2-数据封装过程" class="headerlink" title="2.1.2 数据封装过程"></a>2.1.2 数据封装过程</h4><pre class="line-numbers language-none"><code class="language-none">应用层数据
    ↓
传输层首部 + 应用层数据 &#x3D; TCP段
    ↓
网络层首部 + TCP段 &#x3D; IP数据包
    ↓
数据链路层首部 + IP数据包 + 数据链路层尾部 &#x3D; 帧
    ↓
物理层比特流<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-2-TCP协议详解"><a href="#2-2-TCP协议详解" class="headerlink" title="2.2 TCP协议详解"></a>2.2 TCP协议详解</h3><h4 id="2-2-1-TCP首部结构"><a href="#2-2-1-TCP首部结构" class="headerlink" title="2.2.1 TCP首部结构"></a>2.2.1 TCP首部结构</h4><pre class="line-numbers language-none"><code class="language-none"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Source Port          |       Destination Port        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Sequence Number                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Acknowledgment Number                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Data |           |U|A|P|R|S|F|                               |
| Offset| Reserved  |R|C|S|S|Y|I|            Window             |
|       |           |G|K|H|T|N|N|                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Checksum            |         Urgent Pointer        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Options                    |    Padding    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             data                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-2-2-TCP三次握手"><a href="#2-2-2-TCP三次握手" class="headerlink" title="2.2.2 TCP三次握手"></a>2.2.2 TCP三次握手</h4><p><strong>三次握手过程：</strong></p><pre class="line-numbers language-none"><code class="language-none">Client                              Server
------                              ------
1. SYN&#x3D;1, seq&#x3D;x    ----------------&gt;
                   (同步序列号)

2.                 &lt;----------------  SYN&#x3D;1, ACK&#x3D;1, seq&#x3D;y, ack&#x3D;x+1
                   (同步序列号，确认客户端序列号)

3. ACK&#x3D;1, seq&#x3D;x+1, ack&#x3D;y+1 ----------------&gt;
                   (确认服务器序列号)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>为什么是三次握手？</strong></p><ul><li>防止已失效的连接请求报文突然传送到服务器</li><li>确保双方收发能力正常</li><li>同步初始序列号</li></ul><p><strong>TCP连接状态：</strong></p><ul><li>CLOSED：初始状态</li><li>LISTEN：服务器等待连接</li><li>SYN-SENT：客户端发送SYN后</li><li>SYN-RECEIVED：服务器收到SYN并发送SYN+ACK</li><li>ESTABLISHED：连接建立成功</li></ul><h4 id="2-2-3-TCP四次挥手"><a href="#2-2-3-TCP四次挥手" class="headerlink" title="2.2.3 TCP四次挥手"></a>2.2.3 TCP四次挥手</h4><p><strong>四次挥手过程：</strong></p><pre class="line-numbers language-none"><code class="language-none">Client                              Server
------                              ------
1. FIN&#x3D;1, seq&#x3D;u    ----------------&gt;
                   (客户端请求释放连接)

2.                 &lt;----------------  ACK&#x3D;1, ack&#x3D;u+1
                   (服务器确认收到释放请求)

3.                 &lt;----------------  FIN&#x3D;1, seq&#x3D;v
                   (服务器请求释放连接)

4. ACK&#x3D;1, ack&#x3D;v+1 ----------------&gt;
                   (客户端确认收到释放请求)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>为什么是四次挥手？</strong></p><ul><li>TCP是全双工通信，需要分别关闭两个方向的连接</li><li>服务器可能还有数据需要发送</li><li>确保数据完整传输</li></ul><p><strong>TCP连接状态：</strong></p><ul><li>FIN-WAIT-1：客户端发送FIN后</li><li>FIN-WAIT-2：客户端收到ACK后</li><li>CLOSE-WAIT：服务器收到FIN后</li><li>LAST-ACK：服务器发送FIN后</li><li>TIME-WAIT：客户端收到FIN后等待2MSL</li><li>CLOSED：连接完全关闭</li></ul><h4 id="2-2-4-TCP可靠传输机制"><a href="#2-2-4-TCP可靠传输机制" class="headerlink" title="2.2.4 TCP可靠传输机制"></a>2.2.4 TCP可靠传输机制</h4><p><strong>1. 序列号和确认应答机制</strong></p><pre class="line-numbers language-none"><code class="language-none">发送方：为每个字节数据编号
接收方：发送确认号表示期望收到的下一个字节序号<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>2. 超时重传机制</strong></p><ul><li>设置超时时间RTO（Retransmission Timeout）</li><li>自适应重传：根据网络状况动态调整RTO</li><li>快速重传：收到3个重复ACK立即重传</li></ul><p><strong>3. 流量控制机制</strong></p><ul><li>滑动窗口机制：接收方通过窗口大小告知发送方可接收的数据量</li><li>窗口探测：当接收方窗口为0时，发送方定期探测窗口大小</li></ul><p><strong>4. 拥塞控制机制</strong></p><ul><li>慢开始：指数增长拥塞窗口</li><li>拥塞避免：线性增长拥塞窗口</li><li>快重传：收到3个重复ACK时重传</li><li>快恢复：重传后进入快恢复阶段</li></ul><h4 id="2-2-5-TCP滑动窗口机制"><a href="#2-2-5-TCP滑动窗口机制" class="headerlink" title="2.2.5 TCP滑动窗口机制"></a>2.2.5 TCP滑动窗口机制</h4><p><strong>发送窗口：</strong></p><pre class="line-numbers language-none"><code class="language-none">已发送并确认 | 已发送未确认 | 允许发送 | 不允许发送
     ↑            ↑           ↑         ↑
   SND.UNA    SND.NXT     SND.UNA+SND.WND<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>接收窗口：</strong></p><pre class="line-numbers language-none"><code class="language-none">已接收并确认 | 允许接收 | 不允许接收
     ↑         ↑         ↑
   RCV.NXT  RCV.NXT+RCV.WND<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-3-TCP拥塞控制算法"><a href="#2-3-TCP拥塞控制算法" class="headerlink" title="2.3 TCP拥塞控制算法"></a>2.3 TCP拥塞控制算法</h3><h4 id="2-3-1-传统拥塞控制算法"><a href="#2-3-1-传统拥塞控制算法" class="headerlink" title="2.3.1 传统拥塞控制算法"></a>2.3.1 传统拥塞控制算法</h4><p><strong>1. 慢开始（Slow Start）</strong></p><ul><li>初始拥塞窗口cwnd &#x3D; 1 MSS</li><li>每收到一个ACK，cwnd增加1 MSS</li><li>当cwnd ≥ ssthresh时，进入拥塞避免</li></ul><p><strong>2. 拥塞避免（Congestion Avoidance）</strong></p><ul><li>每经过一个RTT，cwnd增加1 MSS</li><li>线性增长，避免拥塞</li></ul><p><strong>3. 快重传（Fast Retransmit）</strong></p><ul><li>收到3个重复ACK立即重传</li><li>不等待超时</li></ul><p><strong>4. 快恢复（Fast Recovery）</strong></p><ul><li>ssthresh &#x3D; cwnd&#x2F;2</li><li>cwnd &#x3D; ssthresh + 3 MSS</li><li>收到新ACK时，cwnd &#x3D; ssthresh</li></ul><h4 id="2-3-2-现代拥塞控制算法"><a href="#2-3-2-现代拥塞控制算法" class="headerlink" title="2.3.2 现代拥塞控制算法"></a>2.3.2 现代拥塞控制算法</h4><p><strong>1. BBR（Bottleneck Bandwidth and RTT）</strong></p><ul><li>Google开发的拥塞控制算法</li><li>基于带宽和RTT测量</li><li>更高的吞吐量和更低的延迟</li></ul><p><strong>2. Cubic</strong></p><ul><li>Linux默认拥塞控制算法</li><li>基于时间的窗口增长</li><li>适合高带宽延迟积网络</li></ul><h3 id="2-4-UDP协议详解"><a href="#2-4-UDP协议详解" class="headerlink" title="2.4 UDP协议详解"></a>2.4 UDP协议详解</h3><h4 id="2-4-1-UDP特点"><a href="#2-4-1-UDP特点" class="headerlink" title="2.4.1 UDP特点"></a>2.4.1 UDP特点</h4><ul><li>无连接：不需要建立连接</li><li>不可靠：不保证数据到达</li><li>面向报文：保留应用层报文边界</li><li>无拥塞控制：发送速率恒定</li><li>首部开销小：仅8字节</li></ul><h4 id="2-4-2-UDP首部结构"><a href="#2-4-2-UDP首部结构" class="headerlink" title="2.4.2 UDP首部结构"></a>2.4.2 UDP首部结构</h4><pre class="line-numbers language-none"><code class="language-none"> 0      7 8     15 16    23 24    31
+--------+--------+--------+--------+
|     Source      |   Destination   |
|      Port       |      Port       |
+--------+--------+--------+--------+
|                 |                 |
|     Length      |    Checksum     |
+--------+--------+--------+--------+
|                                   |
|          Data Octets ...          |
+-----------------------------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-4-3-UDP-vs-TCP对比"><a href="#2-4-3-UDP-vs-TCP对比" class="headerlink" title="2.4.3 UDP vs TCP对比"></a>2.4.3 UDP vs TCP对比</h4><table><thead><tr><th>特性</th><th>TCP</th><th>UDP</th></tr></thead><tbody><tr><td>连接性</td><td>面向连接</td><td>无连接</td></tr><tr><td>可靠性</td><td>可靠传输</td><td>不可靠传输</td></tr><tr><td>流量控制</td><td>有</td><td>无</td></tr><tr><td>拥塞控制</td><td>有</td><td>无</td></tr><tr><td>传输效率</td><td>较低</td><td>较高</td></tr><tr><td>首部开销</td><td>20-60字节</td><td>8字节</td></tr><tr><td>适用场景</td><td>文件传输、网页浏览</td><td>视频流、DNS查询</td></tr></tbody></table><h2 id="第三章：DNS系统详解"><a href="#第三章：DNS系统详解" class="headerlink" title="第三章：DNS系统详解"></a>第三章：DNS系统详解</h2><h3 id="3-1-DNS基础概念"><a href="#3-1-DNS基础概念" class="headerlink" title="3.1 DNS基础概念"></a>3.1 DNS基础概念</h3><h4 id="3-1-1-DNS系统架构"><a href="#3-1-1-DNS系统架构" class="headerlink" title="3.1.1 DNS系统架构"></a>3.1.1 DNS系统架构</h4><p><strong>DNS层级结构：</strong></p><pre class="line-numbers language-none"><code class="language-none">根域名服务器
    ↓
顶级域名服务器（.com, .org, .net等）
    ↓
权威域名服务器（example.com）
    ↓
本地DNS服务器（ISP提供）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-1-2-DNS记录类型"><a href="#3-1-2-DNS记录类型" class="headerlink" title="3.1.2 DNS记录类型"></a>3.1.2 DNS记录类型</h4><table><thead><tr><th>记录类型</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>A</td><td>IPv4地址记录</td><td>example.com → 93.184.216.34</td></tr><tr><td>AAAA</td><td>IPv6地址记录</td><td>example.com → 2606:2800:220:1:248:1893:25c8:1946</td></tr><tr><td>CNAME</td><td>别名记录</td><td><a target="_blank" rel="noopener" href="http://www.example.com/">www.example.com</a> → example.com</td></tr><tr><td>MX</td><td>邮件交换记录</td><td>example.com → mail.example.com</td></tr><tr><td>TXT</td><td>文本记录</td><td>SPF、DKIM验证</td></tr><tr><td>NS</td><td>域名服务器记录</td><td>example.com → ns1.example.com</td></tr><tr><td>PTR</td><td>反向解析记录</td><td>34.216.184.93.in-addr.arpa → example.com</td></tr></tbody></table><h3 id="3-2-DNS解析过程"><a href="#3-2-DNS解析过程" class="headerlink" title="3.2 DNS解析过程"></a>3.2 DNS解析过程</h3><h4 id="3-2-1-完整解析流程"><a href="#3-2-1-完整解析流程" class="headerlink" title="3.2.1 完整解析流程"></a>3.2.1 完整解析流程</h4><p><strong>递归查询过程：</strong></p><pre class="line-numbers language-none"><code class="language-none">1. 浏览器检查本地缓存
2. 操作系统检查hosts文件
3. 本地DNS服务器检查缓存
4. 本地DNS服务器向根服务器查询
5. 根服务器返回顶级域名服务器地址
6. 本地DNS服务器向顶级域名服务器查询
7. 顶级域名服务器返回权威域名服务器地址
8. 本地DNS服务器向权威域名服务器查询
9. 权威域名服务器返回IP地址
10. 本地DNS服务器缓存结果并返回<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-2-2-DNS缓存机制"><a href="#3-2-2-DNS缓存机制" class="headerlink" title="3.2.2 DNS缓存机制"></a>3.2.2 DNS缓存机制</h4><p><strong>缓存层级：</strong></p><ul><li>浏览器缓存：Chrome默认缓存1分钟</li><li>操作系统缓存：Windows缓存15分钟</li><li>本地DNS服务器缓存：TTL决定缓存时间</li><li>递归DNS服务器缓存：ISP提供的缓存</li></ul><p><strong>TTL（Time To Live）：</strong></p><ul><li>指定DNS记录在缓存中的存活时间</li><li>平衡性能和一致性</li><li>短TTL：快速故障转移</li><li>长TTL：减少DNS查询开销</li></ul><h3 id="3-3-DNS安全机制"><a href="#3-3-DNS安全机制" class="headerlink" title="3.3 DNS安全机制"></a>3.3 DNS安全机制</h3><h4 id="3-3-1-DNS劫持攻击"><a href="#3-3-1-DNS劫持攻击" class="headerlink" title="3.3.1 DNS劫持攻击"></a>3.3.1 DNS劫持攻击</h4><p><strong>常见攻击类型：</strong></p><ul><li>DNS缓存投毒：向DNS缓存注入伪造记录</li><li>DNS劫持：重定向DNS查询到恶意服务器</li><li>中间人攻击：拦截和修改DNS响应</li></ul><h4 id="3-3-2-DNSSEC安全扩展"><a href="#3-3-2-DNSSEC安全扩展" class="headerlink" title="3.3.2 DNSSEC安全扩展"></a>3.3.2 DNSSEC安全扩展</h4><p><strong>DNSSEC功能：</strong></p><ul><li>数字签名：验证DNS响应的真实性</li><li>链式验证：从根到子域名的完整验证</li><li>防止缓存投毒：确保DNS记录未被篡改</li></ul><p><strong>DNSSEC记录类型：</strong></p><ul><li>DNSKEY：存储公钥</li><li>RRSIG：资源记录签名</li><li>DS：父域对子域的信任锚点</li><li>NSEC&#x2F;NSEC3：证明记录不存在</li></ul><h4 id="3-3-3-DoH和DoT"><a href="#3-3-3-DoH和DoT" class="headerlink" title="3.3.3 DoH和DoT"></a>3.3.3 DoH和DoT</h4><p><strong>DoH（DNS over HTTPS）：</strong></p><ul><li>通过HTTPS协议传输DNS查询</li><li>加密DNS流量，防止窃听和篡改</li><li>端口：443</li></ul><p><strong>DoT（DNS over TLS）：</strong></p><ul><li>通过TLS协议传输DNS查询</li><li>专用端口853</li><li>更好的性能优化</li></ul><h3 id="3-4-DNS负载均衡"><a href="#3-4-DNS负载均衡" class="headerlink" title="3.4 DNS负载均衡"></a>3.4 DNS负载均衡</h3><h4 id="3-4-1-基于DNS的负载均衡"><a href="#3-4-1-基于DNS的负载均衡" class="headerlink" title="3.4.1 基于DNS的负载均衡"></a>3.4.1 基于DNS的负载均衡</h4><p><strong>轮询DNS：</strong></p><pre class="line-numbers language-none"><code class="language-none">example.com → 192.168.1.1
example.com → 192.168.1.2
example.com → 192.168.1.3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>地理位置负载均衡：</strong></p><ul><li>根据用户地理位置返回最近的服务器IP</li><li>使用EDNS0扩展获取客户端子网信息</li><li>CDN常用的负载均衡策略</li></ul><h4 id="3-4-2-健康检查机制"><a href="#3-4-2-健康检查机制" class="headerlink" title="3.4.2 健康检查机制"></a>3.4.2 健康检查机制</h4><p><strong>DNS健康检查：</strong></p><ul><li>定期检测服务器可用性</li><li>自动从DNS响应中移除故障服务器</li><li>支持多种检查方式：HTTP、TCP、ICMP</li></ul><h2 id="第四章：负载均衡详解"><a href="#第四章：负载均衡详解" class="headerlink" title="第四章：负载均衡详解"></a>第四章：负载均衡详解</h2><h3 id="4-1-负载均衡基础概念"><a href="#4-1-负载均衡基础概念" class="headerlink" title="4.1 负载均衡基础概念"></a>4.1 负载均衡基础概念</h3><h4 id="4-1-1-负载均衡类型"><a href="#4-1-1-负载均衡类型" class="headerlink" title="4.1.1 负载均衡类型"></a>4.1.1 负载均衡类型</h4><p><strong>按OSI分层：</strong></p><ul><li>L2负载均衡：基于MAC地址</li><li>L3负载均衡：基于IP地址</li><li>L4负载均衡：基于TCP&#x2F;UDP端口</li><li>L7负载均衡：基于应用层内容</li></ul><p><strong>按实现方式：</strong></p><ul><li>硬件负载均衡：F5、A10等专业设备</li><li>软件负载均衡：Nginx、HAProxy、LVS</li><li>云负载均衡：AWS ELB、阿里云SLB</li></ul><h3 id="4-2-负载均衡算法"><a href="#4-2-负载均衡算法" class="headerlink" title="4.2 负载均衡算法"></a>4.2 负载均衡算法</h3><h4 id="4-2-1-静态负载均衡算法"><a href="#4-2-1-静态负载均衡算法" class="headerlink" title="4.2.1 静态负载均衡算法"></a>4.2.1 静态负载均衡算法</h4><p><strong>1. 轮询（Round Robin）</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>2. 加权轮询（Weighted Round Robin）</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080 weight=3</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080 weight=2</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080 weight=1</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>3. IP哈希（IP Hash）</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">ip_hash</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-2-2-动态负载均衡算法"><a href="#4-2-2-动态负载均衡算法" class="headerlink" title="4.2.2 动态负载均衡算法"></a>4.2.2 动态负载均衡算法</h4><p><strong>1. 最少连接（Least Connections）</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>2. 加权最少连接（Weighted Least Connections）</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080 weight=3</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080 weight=2</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080 weight=1</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>3. 响应时间（Response Time）</strong></p><ul><li>选择响应时间最短的服务器</li><li>需要实时监控服务器响应时间</li><li>适用于对延迟敏感的应用</li></ul><h3 id="4-3-Nginx负载均衡详解"><a href="#4-3-Nginx负载均衡详解" class="headerlink" title="4.3 Nginx负载均衡详解"></a>4.3 Nginx负载均衡详解</h3><h4 id="4-3-1-Nginx负载均衡配置"><a href="#4-3-1-Nginx负载均衡配置" class="headerlink" title="4.3.1 Nginx负载均衡配置"></a>4.3.1 Nginx负载均衡配置</h4><p><strong>基础配置：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
        <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080 max_fails=3 fail_timeout=30s</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080 max_fails=3 fail_timeout=30s</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080 max_fails=3 fail_timeout=30s</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">&#123;</span>
        <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">server_name</span> example.com</span><span class="token punctuation">;</span>
        
        <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">&#123;</span>
            <span class="token directive"><span class="token keyword">proxy_pass</span> http://backend</span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">proxy_set_header</span> Host <span class="token variable">$host</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-3-2-健康检查配置"><a href="#4-3-2-健康检查配置" class="headerlink" title="4.3.2 健康检查配置"></a>4.3.2 健康检查配置</h4><p><strong>被动健康检查：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080 max_fails=3 fail_timeout=30s</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080 max_fails=3 fail_timeout=30s</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080 backup</span><span class="token punctuation">;</span>  <span class="token comment"># 备用服务器</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>主动健康检查（Nginx Plus）：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">zone</span> backend <span class="token number">64k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.103:8080</span><span class="token punctuation">;</span>
    
    <span class="token directive"><span class="token keyword">health_check</span> interval=5s fails=3 passes=2 uri=/health</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-3-3-会话保持"><a href="#4-3-3-会话保持" class="headerlink" title="4.3.3 会话保持"></a>4.3.3 会话保持</h4><p><strong>IP哈希会话保持：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">ip_hash</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>Cookie会话保持：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">upstream</span> backend</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.101:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server</span> 192.168.1.102:8080</span><span class="token punctuation">;</span>
    
    <span class="token directive"><span class="token keyword">sticky</span> cookie srv_id expires=1h domain=.example.com path=/</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-4-负载均衡高可用方案"><a href="#4-4-负载均衡高可用方案" class="headerlink" title="4.4 负载均衡高可用方案"></a>4.4 负载均衡高可用方案</h3><h4 id="4-4-1-Keepalived-Nginx"><a href="#4-4-1-Keepalived-Nginx" class="headerlink" title="4.4.1 Keepalived + Nginx"></a>4.4.1 Keepalived + Nginx</h4><p><strong>主备模式：</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 主节点配置</span>
vrrp_instance VI_1 <span class="token punctuation">&#123;</span>
    state MASTER
    interface eth0
    virtual_router_id <span class="token number">51</span>
    priority <span class="token number">100</span>
    advert_int <span class="token number">1</span>
    
    virtual_ipaddress <span class="token punctuation">&#123;</span>
        <span class="token number">192.168</span>.1.100
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment"># 备节点配置</span>
vrrp_instance VI_1 <span class="token punctuation">&#123;</span>
    state BACKUP
    interface eth0
    virtual_router_id <span class="token number">51</span>
    priority <span class="token number">90</span>
    advert_int <span class="token number">1</span>
    
    virtual_ipaddress <span class="token punctuation">&#123;</span>
        <span class="token number">192.168</span>.1.100
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-4-2-集群模式"><a href="#4-4-2-集群模式" class="headerlink" title="4.4.2 集群模式"></a>4.4.2 集群模式</h4><p><strong>LVS集群：</strong></p><ul><li><strong>LVS-NAT</strong>：网络地址转换</li><li><strong>LVS-DR</strong>：直接路由</li><li><strong>LVS-TUN</strong>：IP隧道</li></ul><h2 id="第五章：网络性能优化"><a href="#第五章：网络性能优化" class="headerlink" title="第五章：网络性能优化"></a>第五章：网络性能优化</h2><h3 id="5-1-网络性能指标"><a href="#5-1-网络性能指标" class="headerlink" title="5.1 网络性能指标"></a>5.1 网络性能指标</h3><h4 id="5-1-1-关键性能指标"><a href="#5-1-1-关键性能指标" class="headerlink" title="5.1.1 关键性能指标"></a>5.1.1 关键性能指标</h4><table><thead><tr><th>指标</th><th>定义</th><th>测量工具</th><th>优化方向</th></tr></thead><tbody><tr><td>带宽</td><td>数据传输速率</td><td>iperf, speedtest</td><td>升级链路、压缩数据</td></tr><tr><td>延迟</td><td>数据往返时间</td><td>ping, traceroute</td><td>CDN、就近部署</td></tr><tr><td>丢包率</td><td>数据包丢失比例</td><td>ping, mtr</td><td>网络质量、重传机制</td></tr><tr><td>抖动</td><td>延迟变化程度</td><td>ping -c 100</td><td>QoS、缓冲机制</td></tr><tr><td>吞吐量</td><td>实际传输速率</td><td>wget, curl</td><td>优化协议、并行传输</td></tr></tbody></table><h3 id="5-2-网络优化策略"><a href="#5-2-网络优化策略" class="headerlink" title="5.2 网络优化策略"></a>5.2 网络优化策略</h3><h4 id="5-2-1-CDN优化"><a href="#5-2-1-CDN优化" class="headerlink" title="5.2.1 CDN优化"></a>5.2.1 CDN优化</h4><p><strong>CDN工作原理：</strong></p><pre class="line-numbers language-none"><code class="language-none">1. 用户访问www.example.com
2. DNS解析到最近的CDN节点
3. CDN节点检查缓存
4. 缓存命中：直接返回内容
5. 缓存未命中：回源获取内容并缓存<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>CDN优化技巧：</strong></p><ul><li><strong>缓存策略</strong>：设置合理的Cache-Control</li><li><strong>缓存预热</strong>：提前加载热门内容</li><li><strong>版本控制</strong>：使用版本号避免缓存污染</li><li><strong>域名分片</strong>：突破浏览器并发限制</li></ul><h4 id="5-2-2-网络协议优化"><a href="#5-2-2-网络协议优化" class="headerlink" title="5.2.2 网络协议优化"></a>5.2.2 网络协议优化</h4><p><strong>HTTP优化：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token comment"># 启用gzip压缩</span>
<span class="token directive"><span class="token keyword">gzip</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_types</span> text/plain text/css application/json application/javascript</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_min_length</span> <span class="token number">1000</span></span><span class="token punctuation">;</span>

<span class="token comment"># 启用HTTP/2</span>
<span class="token directive"><span class="token keyword">listen</span> <span class="token number">443</span> ssl http2</span><span class="token punctuation">;</span>

<span class="token comment"># 优化keepalive</span>
<span class="token directive"><span class="token keyword">keepalive_timeout</span> <span class="token number">65</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">keepalive_requests</span> <span class="token number">100</span></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>TCP优化：</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Linux内核参数优化</span>
<span class="token comment"># 增大TCP缓冲区</span>
net.core.rmem_max <span class="token operator">=</span> <span class="token number">16777216</span>
net.core.wmem_max <span class="token operator">=</span> <span class="token number">16777216</span>

<span class="token comment"># 启用TCP窗口缩放</span>
net.ipv4.tcp_window_scaling <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># 优化TCP拥塞控制</span>
net.ipv4.tcp_congestion_control <span class="token operator">=</span> bbr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="5-2-3-前端网络优化"><a href="#5-2-3-前端网络优化" class="headerlink" title="5.2.3 前端网络优化"></a>5.2.3 前端网络优化</h4><p><strong>资源优化：</strong></p><ul><li><strong>压缩</strong>：Gzip、Brotli压缩</li><li><strong>合并</strong>：减少HTTP请求数</li><li><strong>雪碧图</strong>：合并小图标</li><li><strong>懒加载</strong>：延迟加载非关键资源</li></ul><p><strong>缓存优化：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token comment"># 静态资源缓存</span>
<span class="token directive"><span class="token keyword">location</span> ~* \.(jpg|jpeg|png|gif|ico|css|js)$</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">expires</span> <span class="token number">1y</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> Cache-Control <span class="token string">"public, immutable"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment"># HTML不缓存</span>
<span class="token directive"><span class="token keyword">location</span> ~* \.html$</span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">expires</span> -1</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> Cache-Control <span class="token string">"no-cache, no-store, must-revalidate"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-3-网络监控与诊断"><a href="#5-3-网络监控与诊断" class="headerlink" title="5.3 网络监控与诊断"></a>5.3 网络监控与诊断</h3><h4 id="5-3-1-网络监控工具"><a href="#5-3-1-网络监控工具" class="headerlink" title="5.3.1 网络监控工具"></a>5.3.1 网络监控工具</h4><p><strong>基础监控：</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 连通性测试</span>
<span class="token function">ping</span> www.example.com

<span class="token comment"># 路由跟踪</span>
<span class="token function">traceroute</span> www.example.com
<span class="token function">mtr</span> www.example.com

<span class="token comment"># 端口扫描</span>
nmap <span class="token parameter variable">-p</span> <span class="token number">80,443</span> www.example.com

<span class="token comment"># 带宽测试</span>
iperf3 <span class="token parameter variable">-c</span> server_ip<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>高级监控：</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># TCP连接分析</span>
ss <span class="token parameter variable">-tuln</span>
<span class="token function">netstat</span> <span class="token parameter variable">-tuln</span>

<span class="token comment"># 网络抓包</span>
tcpdump <span class="token parameter variable">-i</span> eth0 port <span class="token number">80</span>
wireshark

<span class="token comment"># 应用层监控</span>
<span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">"@curl-format.txt"</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="5-3-2-性能分析工具"><a href="#5-3-2-性能分析工具" class="headerlink" title="5.3.2 性能分析工具"></a>5.3.2 性能分析工具</h4><p><strong>Web性能分析：</strong></p><ul><li><strong>WebPageTest</strong>：在线性能测试</li><li><strong>Lighthouse</strong>：Google性能审计工具</li><li><strong>GTmetrix</strong>：网站性能分析</li><li><strong>Pingdom</strong>：网站监控服务</li></ul><p><strong>网络性能分析：</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 分析HTTP请求</span>
<span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">"Accept-Encoding: gzip"</span> <span class="token parameter variable">-I</span> www.example.com

<span class="token comment"># 测试SSL/TLS性能</span>
openssl s_client <span class="token parameter variable">-connect</span> www.example.com:443

<span class="token comment"># DNS性能测试</span>
<span class="token function">dig</span> www.example.com
<span class="token function">nslookup</span> www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-4-高并发网络优化"><a href="#5-4-高并发网络优化" class="headerlink" title="5.4 高并发网络优化"></a>5.4 高并发网络优化</h3><h4 id="5-4-1-连接池优化"><a href="#5-4-1-连接池优化" class="headerlink" title="5.4.1 连接池优化"></a>5.4.1 连接池优化</h4><p><strong>数据库连接池：</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">HikariConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HikariConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span><span class="token function">setMaximumPoolSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span><span class="token function">setMinimumIdle</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span><span class="token function">setConnectionTimeout</span><span class="token punctuation">(</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span><span class="token function">setIdleTimeout</span><span class="token punctuation">(</span><span class="token number">600000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span><span class="token function">setMaxLifetime</span><span class="token punctuation">(</span><span class="token number">1800000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>HTTP连接池：</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">PoolingHttpClientConnectionManager</span> cm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PoolingHttpClientConnectionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cm<span class="token punctuation">.</span><span class="token function">setMaxTotal</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cm<span class="token punctuation">.</span><span class="token function">setDefaultMaxPerRoute</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> httpClient <span class="token operator">=</span> <span class="token class-name">HttpClients</span><span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">setConnectionManager</span><span class="token punctuation">(</span>cm<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="5-4-2-异步处理优化"><a href="#5-4-2-异步处理优化" class="headerlink" title="5.4.2 异步处理优化"></a>5.4.2 异步处理优化</h4><p><strong>NIO优化：</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Selector</span> selector <span class="token operator">=</span> <span class="token class-name">Selector</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ServerSocketChannel</span> serverChannel <span class="token operator">=</span> <span class="token class-name">ServerSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
serverChannel<span class="token punctuation">.</span><span class="token function">configureBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
serverChannel<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> <span class="token class-name">SelectionKey</span><span class="token punctuation">.</span><span class="token constant">OP_ACCEPT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    selector<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">></span></span> selectedKeys <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">selectedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 处理IO事件</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>Netty优化：</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ServerBootstrap</span> bootstrap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerBootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bootstrap<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>bossGroup<span class="token punctuation">,</span> workerGroup<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token class-name">NioServerSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">childHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInitializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SocketChannel</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initChannel</span><span class="token punctuation">(</span><span class="token class-name">SocketChannel</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            ch<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpServerCodec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ch<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpObjectAggregator</span><span class="token punctuation">(</span><span class="token number">65536</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ch<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpRequestHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token class-name">ChannelOption</span><span class="token punctuation">.</span><span class="token constant">SO_BACKLOG</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">childOption</span><span class="token punctuation">(</span><span class="token class-name">ChannelOption</span><span class="token punctuation">.</span><span class="token constant">SO_KEEPALIVE</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="第六章：网络安全与优化"><a href="#第六章：网络安全与优化" class="headerlink" title="第六章：网络安全与优化"></a>第六章：网络安全与优化</h2><h3 id="6-1-网络安全威胁"><a href="#6-1-网络安全威胁" class="headerlink" title="6.1 网络安全威胁"></a>6.1 网络安全威胁</h3><h4 id="6-1-1-常见网络攻击"><a href="#6-1-1-常见网络攻击" class="headerlink" title="6.1.1 常见网络攻击"></a>6.1.1 常见网络攻击</h4><p><strong>DDoS攻击类型：</strong></p><ul><li><strong>SYN Flood</strong>：耗尽服务器连接队列</li><li><strong>UDP Flood</strong>：耗尽网络带宽</li><li><strong>HTTP Flood</strong>：耗尽应用资源</li><li><strong>DNS放大攻击</strong>：利用DNS响应放大攻击流量</li></ul><p><strong>防护策略：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token comment"># 限制连接数</span>
<span class="token directive"><span class="token keyword">limit_req_zone</span> <span class="token variable">$binary_remote_addr</span> zone=api:10m rate=10r/s</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">limit_conn_zone</span> <span class="token variable">$binary_remote_addr</span> zone=addr:10m</span><span class="token punctuation">;</span>

<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">&#123;</span>
    <span class="token directive"><span class="token keyword">location</span> /api/</span> <span class="token punctuation">&#123;</span>
        <span class="token directive"><span class="token keyword">limit_req</span> zone=api burst=20 nodelay</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">limit_conn</span> addr <span class="token number">10</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-2-安全优化措施"><a href="#6-2-安全优化措施" class="headerlink" title="6.2 安全优化措施"></a>6.2 安全优化措施</h3><h4 id="6-2-1-SSL-TLS优化"><a href="#6-2-1-SSL-TLS优化" class="headerlink" title="6.2.1 SSL&#x2F;TLS优化"></a>6.2.1 SSL&#x2F;TLS优化</h4><p><strong>安全配置：</strong></p><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token comment"># 禁用不安全的协议和算法</span>
<span class="token directive"><span class="token keyword">ssl_protocols</span> TLSv1.2 TLSv1.3</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">ssl_ciphers</span> ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">ssl_prefer_server_ciphers</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span>

<span class="token comment"># 启用OCSP Stapling</span>
<span class="token directive"><span class="token keyword">ssl_stapling</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">ssl_stapling_verify</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>

<span class="token comment"># 启用HSTS</span>
<span class="token directive"><span class="token keyword">add_header</span> Strict-Transport-Security <span class="token string">"max-age=63072000"</span> always</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="6-2-2-WAF配置"><a href="#6-2-2-WAF配置" class="headerlink" title="6.2.2 WAF配置"></a>6.2.2 WAF配置</h4><p><strong>ModSecurity规则示例：</strong></p><pre class="line-numbers language-apache" data-language="apache"><code class="language-apache"># 防止SQL注入
SecRule ARGS &quot;@detectSQLi&quot; \
    &quot;id:1001,phase:2,block,msg:&#39;SQL Injection Attack Detected&#39;&quot;

# 防止XSS攻击
SecRule ARGS &quot;@detectXSS&quot; \
    &quot;id:1002,phase:2,block,msg:&#39;XSS Attack Detected&#39;&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="第七章：实战案例分析"><a href="#第七章：实战案例分析" class="headerlink" title="第七章：实战案例分析"></a>第七章：实战案例分析</h2><h3 id="7-1-高并发网站架构"><a href="#7-1-高并发网站架构" class="headerlink" title="7.1 高并发网站架构"></a>7.1 高并发网站架构</h3><h4 id="7-1-1-电商网站架构"><a href="#7-1-1-电商网站架构" class="headerlink" title="7.1.1 电商网站架构"></a>7.1.1 电商网站架构</h4><p><strong>架构层次：</strong></p><pre class="line-numbers language-none"><code class="language-none">用户 → CDN → 负载均衡器 → Web服务器 → 应用服务器 → 缓存层 → 数据库<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>技术选型：</strong></p><ul><li><strong>CDN</strong>：阿里云CDN、腾讯云CDN</li><li><strong>负载均衡</strong>：Nginx、LVS、HAProxy</li><li><strong>Web服务器</strong>：Nginx、Apache</li><li><strong>应用服务器</strong>：Tomcat、Spring Boot</li><li><strong>缓存</strong>：Redis、Memcached</li><li><strong>数据库</strong>：MySQL、MongoDB</li></ul><h4 id="7-1-2-性能优化案例"><a href="#7-1-2-性能优化案例" class="headerlink" title="7.1.2 性能优化案例"></a>7.1.2 性能优化案例</h4><p><strong>案例：某电商大促优化</strong></p><p><strong>问题分析：</strong></p><ul><li>页面加载时间：8秒</li><li>并发连接数：5000</li><li>数据库QPS：20000</li></ul><p><strong>优化措施：</strong></p><ol><li><strong>CDN优化</strong>：静态资源CDN化，减少80%回源流量</li><li><strong>连接池优化</strong>：数据库连接池从50调整到200</li><li><strong>缓存优化</strong>：Redis缓存命中率提升到95%</li><li><strong>负载均衡</strong>：从轮询改为最少连接算法</li></ol><p><strong>优化结果：</strong></p><ul><li>页面加载时间：8秒 → 2秒</li><li>并发连接数：5000 → 20000</li><li>数据库QPS：20000 → 5000</li></ul><h3 id="7-2-微服务网络优化"><a href="#7-2-微服务网络优化" class="headerlink" title="7.2 微服务网络优化"></a>7.2 微服务网络优化</h3><h4 id="7-2-1-Service-Mesh架构"><a href="#7-2-1-Service-Mesh架构" class="headerlink" title="7.2.1 Service Mesh架构"></a>7.2.1 Service Mesh架构</h4><p><strong>Istio网络优化：</strong></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
<span class="token key atrule">kind</span><span class="token punctuation">:</span> DestinationRule
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> productpage
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">host</span><span class="token punctuation">:</span> productpage
  <span class="token key atrule">trafficPolicy</span><span class="token punctuation">:</span>
    <span class="token key atrule">connectionPool</span><span class="token punctuation">:</span>
      <span class="token key atrule">tcp</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxConnections</span><span class="token punctuation">:</span> <span class="token number">100</span>
      <span class="token key atrule">http</span><span class="token punctuation">:</span>
        <span class="token key atrule">http1MaxPendingRequests</span><span class="token punctuation">:</span> <span class="token number">50</span>
        <span class="token key atrule">maxRequestsPerConnection</span><span class="token punctuation">:</span> <span class="token number">2</span>
    <span class="token key atrule">loadBalancer</span><span class="token punctuation">:</span>
      <span class="token key atrule">consistentHash</span><span class="token punctuation">:</span>
        <span class="token key atrule">httpCookie</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"session-affinity"</span>
          <span class="token key atrule">ttl</span><span class="token punctuation">:</span> 3600s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="7-2-2-服务网格性能监控"><a href="#7-2-2-服务网格性能监控" class="headerlink" title="7.2.2 服务网格性能监控"></a>7.2.2 服务网格性能监控</h4><p><strong>监控指标：</strong></p><ul><li>请求延迟：P50、P95、P99</li><li>错误率：4xx、5xx错误比例</li><li>吞吐量：RPS（Requests Per Second）</li><li>连接数：活跃连接数、连接池使用率</li></ul><h2 id="第八章：面试真题解析"><a href="#第八章：面试真题解析" class="headerlink" title="第八章：面试真题解析"></a>第八章：面试真题解析</h2><h3 id="8-1-HTTP-HTTPS高频面试题"><a href="#8-1-HTTP-HTTPS高频面试题" class="headerlink" title="8.1 HTTP&#x2F;HTTPS高频面试题"></a>8.1 HTTP&#x2F;HTTPS高频面试题</h3><h4 id="8-1-1-HTTPS握手过程"><a href="#8-1-1-HTTPS握手过程" class="headerlink" title="8.1.1 HTTPS握手过程"></a>8.1.1 HTTPS握手过程</h4><p><strong>详细步骤：</strong></p><ol><li>客户端发送Client Hello</li><li>服务器返回Server Hello + 证书</li><li>客户端验证证书</li><li>密钥交换（ECDHE）</li><li>生成会话密钥</li><li>完成握手</li></ol><p><strong>性能优化：</strong></p><ul><li>会话复用（Session Resumption）</li><li>OCSP Stapling</li><li>HSTS预加载</li><li>TLS 1.3（0-RTT）</li></ul><h4 id="8-1-2-HTTP-2-vs-HTTP-1-1"><a href="#8-1-2-HTTP-2-vs-HTTP-1-1" class="headerlink" title="8.1.2 HTTP&#x2F;2 vs HTTP&#x2F;1.1"></a>8.1.2 HTTP&#x2F;2 vs HTTP&#x2F;1.1</h4><p><strong>HTTP&#x2F;2优势：</strong></p><ul><li>二进制分帧：减少解析开销</li><li>多路复用：解决队头阻塞</li><li>头部压缩：HPACK算法</li><li>服务器推送：减少RTT</li></ul><p><strong>HTTP&#x2F;2限制：</strong></p><ul><li>队头阻塞依然存在（TCP层）</li><li>需要HTTPS支持</li><li>服务器推送可能浪费带宽</li></ul><h3 id="8-2-TCP-IP高频面试题"><a href="#8-2-TCP-IP高频面试题" class="headerlink" title="8.2 TCP&#x2F;IP高频面试题"></a>8.2 TCP&#x2F;IP高频面试题</h3><h4 id="8-2-1-TCP三次握手详解"><a href="#8-2-1-TCP三次握手详解" class="headerlink" title="8.2.1 TCP三次握手详解"></a>8.2.1 TCP三次握手详解</h4><p><strong>为什么需要三次握手？</strong></p><ol><li><strong>防止历史连接</strong>：避免已失效的连接请求</li><li><strong>同步序列号</strong>：确保双方初始序列号同步</li><li><strong>验证全双工</strong>：确认双方收发能力正常</li></ol><p><strong>SYN Flood攻击防护：</strong></p><ul><li>SYN Cookie：不分配资源直到收到ACK</li><li>SYN Cache：使用哈希表存储半连接</li><li>防火墙限速：限制SYN包频率</li></ul><h4 id="8-2-2-TCP滑动窗口机制"><a href="#8-2-2-TCP滑动窗口机制" class="headerlink" title="8.2.2 TCP滑动窗口机制"></a>8.2.2 TCP滑动窗口机制</h4><p><strong>窗口大小计算：</strong></p><pre class="line-numbers language-none"><code class="language-none">发送窗口 &#x3D; min(拥塞窗口, 接收窗口)
拥塞窗口：发送方根据网络拥塞控制
接收窗口：接收方根据缓冲区大小<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>窗口探测机制：</strong></p><ul><li>零窗口探测：当接收窗口为0时</li><li>窗口更新：接收方窗口变化时通知发送方</li></ul><h3 id="8-3-DNS与负载均衡面试题"><a href="#8-3-DNS与负载均衡面试题" class="headerlink" title="8.3 DNS与负载均衡面试题"></a>8.3 DNS与负载均衡面试题</h3><h4 id="8-3-1-DNS解析过程详解"><a href="#8-3-1-DNS解析过程详解" class="headerlink" title="8.3.1 DNS解析过程详解"></a>8.3.1 DNS解析过程详解</h4><p><strong>完整解析流程：</strong></p><pre class="line-numbers language-none"><code class="language-none">浏览器缓存 → 系统缓存 → hosts文件 → 本地DNS → 根服务器 → TLD服务器 → 权威服务器<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>DNS优化策略：</strong></p><ul><li>DNS预解析：<code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//example.com&quot;&gt;</code></li><li>减少域名数量：避免过多DNS查询</li><li>合理设置TTL：平衡性能和可用性</li></ul><h4 id="8-3-2-负载均衡算法对比"><a href="#8-3-2-负载均衡算法对比" class="headerlink" title="8.3.2 负载均衡算法对比"></a>8.3.2 负载均衡算法对比</h4><p><strong>算法选择场景：</strong></p><ul><li><strong>轮询</strong>：服务器性能相近</li><li><strong>加权轮询</strong>：服务器性能差异大</li><li><strong>最少连接</strong>：长连接应用</li><li><strong>IP哈希</strong>：需要会话保持</li><li><strong>一致性哈希</strong>：分布式缓存</li></ul><h3 id="8-4-网络优化面试题"><a href="#8-4-网络优化面试题" class="headerlink" title="8.4 网络优化面试题"></a>8.4 网络优化面试题</h3><h4 id="8-4-1-CDN优化策略"><a href="#8-4-1-CDN优化策略" class="headerlink" title="8.4.1 CDN优化策略"></a>8.4.1 CDN优化策略</h4><p><strong>CDN缓存策略：</strong></p><ul><li>静态资源：长时间缓存（1年）</li><li>HTML文件：短时间缓存或协商缓存</li><li>API接口：根据业务需求设置</li></ul><p><strong>CDN回源优化：</strong></p><ul><li>合并回源：减少回源请求数</li><li>预热机制：提前加载热门内容</li><li>智能压缩：Brotli、Gzip压缩</li></ul><h4 id="8-4-2-高并发网络优化"><a href="#8-4-2-高并发网络优化" class="headerlink" title="8.4.2 高并发网络优化"></a>8.4.2 高并发网络优化</h4><p><strong>连接优化：</strong></p><ul><li>连接池：复用TCP连接</li><li>HTTP&#x2F;2：多路复用减少连接数</li><li>域名分片：突破浏览器并发限制</li></ul><p><strong>传输优化：</strong></p><ul><li>压缩：Gzip、Brotli压缩文本</li><li>缓存：强缓存、协商缓存</li><li>预加载：关键资源提前加载</li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>计算机网络是一个复杂的系统工程，涉及多个协议层级的协同工作。本文系统梳理了：</p><ol><li><strong>HTTP&#x2F;HTTPS</strong>：协议演进、握手过程、性能优化</li><li><strong>TCP&#x2F;IP</strong>：三次握手、四次挥手、拥塞控制</li><li><strong>DNS</strong>：解析过程、缓存机制、安全扩展</li><li><strong>负载均衡</strong>：算法选择、高可用方案、配置优化</li><li><strong>网络优化</strong>：CDN、协议优化、性能监控</li><li><strong>安全防护</strong>：DDoS防护、SSL优化、WAF配置</li></ol><p>掌握这些知识点不仅有助于技术面试，更重要的是能够构建高性能、高可用的网络系统。建议结合实际项目进行实践，通过工具进行性能测试和优化。</p><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ol><li>《计算机网络：自顶向下方法》- James F. Kurose &amp; Keith W. Ross</li><li>《HTTP权威指南》- David Gourley &amp; Brian Totty</li><li>《TCP&#x2F;IP详解》- W. Richard Stevens</li><li>《高性能网站建设指南》- Steve Souders</li><li>《Web性能权威指南》- Ilya Grigorik</li><li>Cloudflare网络优化最佳实践</li><li>AWS网络架构设计指南</li><li>Nginx官方文档</li></ol><hr><p><em>本文档持续更新，如有错误或建议，欢迎指正。</em></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://canjisam.github.io">CanJisam</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://canjisam.github.io/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/">https://canjisam.github.io/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://canjisam.github.io" target="_blank">诒森的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a><a class="post-meta__tags" href="/tags/HTTP/">HTTP</a><a class="post-meta__tags" href="/tags/HTTPS/">HTTPS</a><a class="post-meta__tags" href="/tags/TCP-IP/">TCP/IP</a><a class="post-meta__tags" href="/tags/DNS/">DNS</a><a class="post-meta__tags" href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">负载均衡</a><a class="post-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96/">网络优化</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/eca45645431b46fea6db1634a45287b2_3.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/08/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E7%AC%94%E8%AF%95%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="数据结构与算法笔试核心知识点详解"><img class="cover" src="/img/cover/9f13ef7ffc274ea1974a8c4bd3849b26_3.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">数据结构与算法笔试核心知识点详解</div></div><div class="info-2"><div class="info-item-1">数据结构与算法笔试核心知识点详解前言数据结构与算法是计算机科学的核心基础，也是技术笔试面试中的必考内容。本文将系统梳理链表、树、图、哈希表、排序算法等核心知识点，结合典型面试题型进行深入解析，帮助读者全面掌握笔试必备技能。 第一章：链表（Linked List）1.1 链表基础概念链表是一种线性数据结构，由一系列节点组成，每个节点包含数据域和指针域。相比数组，链表具有动态扩容、插入删除高效的优势。 1.1.1 链表分类单链表（Singly Linked List） 每个节点只有一个指向下一节点的指针 只能单向遍历 结构简单，内存占用少 双链表（Doubly Linked List） 每个节点有两个指针：prev和next 支持双向遍历 插入删除操作更灵活 循环链表（Circular Linked List） 尾节点指针指向头节点 可以循环遍历 常用于实现队列等数据结构 1.2 链表核心操作1.2.1 单链表节点定义class ListNode &#123; int val; ListNode next; ListNode(int...</div></div></div></a><a class="pagination-related" href="/2025/08/18/Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="Linux系统管理核心知识点详解"><img class="cover" src="/img/cover/eca45645431b46fea6db1634a45287b2_0.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Linux系统管理核心知识点详解</div></div><div class="info-2"><div class="info-item-1">Linux系统管理核心知识点详解目录 常用命令详解 系统监控与性能分析 故障排查与诊断 服务管理与配置 网络诊断与优化 实战案例分析 高频面试题 常用命令详解1. grep命令 - 文本搜索利器基本语法grep [选项] 模式 [文件] 常用参数 -i：忽略大小写 -v：反向匹配 -n：显示行号 -r：递归搜索 -E：使用扩展正则表达式 -A：显示匹配行后N行 -B：显示匹配行前N行 实战技巧# 搜索包含error的日志行 grep -i "error" /var/log/syslog # 搜索不包含debug的日志行 grep -v "debug" application.log # 使用正则表达式匹配IP地址 grep -E "([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;" access.log # 搜索Java进程并排除grep自身 ps aux | grep java | grep -v grep # 搜索多个关键词 grep -E "(error|exception|fatal)"...</div></div></div></a></nav><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/cover/avator.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">CanJisam</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">55</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">93</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/canjisam"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/canjisam" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:canjisam@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎关注微信公众号：昨宵梦寐与君语（国内访问更稳定）</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">计算机网络核心知识点详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9AHTTP-HTTPS%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.2.</span> <span class="toc-text">第一章：HTTP&#x2F;HTTPS协议详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-HTTP%E5%8D%8F%E8%AE%AE%E5%9F%BA%E7%A1%80"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1 HTTP协议基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-1-HTTP%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1.1.1 HTTP协议概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-2-HTTP%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">1.1.2 HTTP请求报文结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-HTTP%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">1.1.3 HTTP响应报文结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-HTTP%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 HTTP状态码详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E7%8A%B6%E6%80%81%E7%A0%81%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">1.2.1 状态码分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">1.2.2 常见状态码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-HTTP%E6%96%B9%E6%B3%95%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3 HTTP方法详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E5%B8%B8%E7%94%A8HTTP%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">1.3.1 常用HTTP方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-GET-vs-POST%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">1.3.2 GET vs POST区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-HTTP%E7%89%88%E6%9C%AC%E6%BC%94%E8%BF%9B"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.4 HTTP版本演进</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-HTTP-1-0-vs-HTTP-1-1"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">1.4.1 HTTP&#x2F;1.0 vs HTTP&#x2F;1.1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-HTTP-2%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">1.4.2 HTTP&#x2F;2特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-3-HTTP-3%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">1.4.3 HTTP&#x2F;3特性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-HTTPS%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.2.5.</span> <span class="toc-text">1.5 HTTPS协议详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-1-HTTPS%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">1.5.1 HTTPS工作原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-2-SSL-TLS%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">1.5.2 SSL&#x2F;TLS握手过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-3-%E8%AF%81%E4%B9%A6%E4%BD%93%E7%B3%BB"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">1.5.3 证书体系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-4-HTTPS%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.2.5.4.</span> <span class="toc-text">1.5.4 HTTPS性能优化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9ATCP-IP%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.3.</span> <span class="toc-text">第二章：TCP&#x2F;IP协议详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-TCP-IP%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 TCP&#x2F;IP协议栈</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-%E5%8D%8F%E8%AE%AE%E6%A0%88%E5%88%86%E5%B1%82"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">2.1.1 协议栈分层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">2.1.2 数据封装过程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-TCP%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 TCP协议详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-TCP%E9%A6%96%E9%83%A8%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">2.2.1 TCP首部结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2.2.2 TCP三次握手</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-TCP%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">2.2.3 TCP四次挥手</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-TCP%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">2.2.4 TCP可靠传输机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-TCP%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">2.2.5 TCP滑动窗口机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 TCP拥塞控制算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E4%BC%A0%E7%BB%9F%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">2.3.1 传统拥塞控制算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E7%8E%B0%E4%BB%A3%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">2.3.2 现代拥塞控制算法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-UDP%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.3.4.</span> <span class="toc-text">2.4 UDP协议详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-1-UDP%E7%89%B9%E7%82%B9"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">2.4.1 UDP特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-UDP%E9%A6%96%E9%83%A8%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">2.4.2 UDP首部结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-UDP-vs-TCP%E5%AF%B9%E6%AF%94"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">2.4.3 UDP vs TCP对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9ADNS%E7%B3%BB%E7%BB%9F%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.4.</span> <span class="toc-text">第三章：DNS系统详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-DNS%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1 DNS基础概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-DNS%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">3.1.1 DNS系统架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-DNS%E8%AE%B0%E5%BD%95%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">3.1.2 DNS记录类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-DNS%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2 DNS解析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">3.2.1 完整解析流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-DNS%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">3.2.2 DNS缓存机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-DNS%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.3.</span> <span class="toc-text">3.3 DNS安全机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-DNS%E5%8A%AB%E6%8C%81%E6%94%BB%E5%87%BB"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">3.3.1 DNS劫持攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-DNSSEC%E5%AE%89%E5%85%A8%E6%89%A9%E5%B1%95"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">3.3.2 DNSSEC安全扩展</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3-DoH%E5%92%8CDoT"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">3.3.3 DoH和DoT</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-DNS%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-number">1.4.4.</span> <span class="toc-text">3.4 DNS负载均衡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1-%E5%9F%BA%E4%BA%8EDNS%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">3.4.1 基于DNS的负载均衡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">3.4.2 健康检查机制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.5.</span> <span class="toc-text">第四章：负载均衡详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 负载均衡基础概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">4.1.1 负载均衡类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 负载均衡算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-1-%E9%9D%99%E6%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">4.2.1 静态负载均衡算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-2-%E5%8A%A8%E6%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">4.2.2 动态负载均衡算法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3 Nginx负载均衡详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-1-Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%85%8D%E7%BD%AE"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">4.3.1 Nginx负载均衡配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-2-%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E9%85%8D%E7%BD%AE"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">4.3.2 健康检查配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-3-%E4%BC%9A%E8%AF%9D%E4%BF%9D%E6%8C%81"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">4.3.3 会话保持</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%AB%98%E5%8F%AF%E7%94%A8%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.4.</span> <span class="toc-text">4.4 负载均衡高可用方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-1-Keepalived-Nginx"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">4.4.1 Keepalived + Nginx</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-%E9%9B%86%E7%BE%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">4.4.2 集群模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.</span> <span class="toc-text">第五章：网络性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.1 网络性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-%E5%85%B3%E9%94%AE%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">5.1.1 关键性能指标</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.2 网络优化策略</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-CDN%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">5.2.1 CDN优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">5.2.2 网络协议优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-3-%E5%89%8D%E7%AB%AF%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.2.3.</span> <span class="toc-text">5.2.3 前端网络优化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%AF%8A%E6%96%AD"><span class="toc-number">1.6.3.</span> <span class="toc-text">5.3 网络监控与诊断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-1-%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">5.3.1 网络监控工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-2-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">5.3.2 性能分析工具</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E9%AB%98%E5%B9%B6%E5%8F%91%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.4.</span> <span class="toc-text">5.4 高并发网络优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-1-%E8%BF%9E%E6%8E%A5%E6%B1%A0%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">5.4.1 连接池优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-2-%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86%E4%BC%98%E5%8C%96"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">5.4.2 异步处理优化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9A%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E4%B8%8E%E4%BC%98%E5%8C%96"><span class="toc-number">1.7.</span> <span class="toc-text">第六章：网络安全与优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81"><span class="toc-number">1.7.1.</span> <span class="toc-text">6.1 网络安全威胁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-1-%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">6.1.1 常见网络攻击</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%AE%89%E5%85%A8%E4%BC%98%E5%8C%96%E6%8E%AA%E6%96%BD"><span class="toc-number">1.7.2.</span> <span class="toc-text">6.2 安全优化措施</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-1-SSL-TLS%E4%BC%98%E5%8C%96"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">6.2.1 SSL&#x2F;TLS优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-2-WAF%E9%85%8D%E7%BD%AE"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">6.2.2 WAF配置</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0%EF%BC%9A%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90"><span class="toc-number">1.8.</span> <span class="toc-text">第七章：实战案例分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E9%AB%98%E5%B9%B6%E5%8F%91%E7%BD%91%E7%AB%99%E6%9E%B6%E6%9E%84"><span class="toc-number">1.8.1.</span> <span class="toc-text">7.1 高并发网站架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-1-%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%9E%B6%E6%9E%84"><span class="toc-number">1.8.1.1.</span> <span class="toc-text">7.1.1 电商网站架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-2-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A1%88%E4%BE%8B"><span class="toc-number">1.8.1.2.</span> <span class="toc-text">7.1.2 性能优化案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96"><span class="toc-number">1.8.2.</span> <span class="toc-text">7.2 微服务网络优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-1-Service-Mesh%E6%9E%B6%E6%9E%84"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">7.2.1 Service Mesh架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-2-%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">7.2.2 服务网格性能监控</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%98%E8%A7%A3%E6%9E%90"><span class="toc-number">1.9.</span> <span class="toc-text">第八章：面试真题解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-HTTP-HTTPS%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.9.1.</span> <span class="toc-text">8.1 HTTP&#x2F;HTTPS高频面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-1-HTTPS%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B"><span class="toc-number">1.9.1.1.</span> <span class="toc-text">8.1.1 HTTPS握手过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-2-HTTP-2-vs-HTTP-1-1"><span class="toc-number">1.9.1.2.</span> <span class="toc-text">8.1.2 HTTP&#x2F;2 vs HTTP&#x2F;1.1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-TCP-IP%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.9.2.</span> <span class="toc-text">8.2 TCP&#x2F;IP高频面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-1-TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.9.2.1.</span> <span class="toc-text">8.2.1 TCP三次握手详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-2-TCP%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%BA%E5%88%B6"><span class="toc-number">1.9.2.2.</span> <span class="toc-text">8.2.2 TCP滑动窗口机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-DNS%E4%B8%8E%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.9.3.</span> <span class="toc-text">8.3 DNS与负载均衡面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-1-DNS%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.9.3.1.</span> <span class="toc-text">8.3.1 DNS解析过程详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-2-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AE%97%E6%B3%95%E5%AF%B9%E6%AF%94"><span class="toc-number">1.9.3.2.</span> <span class="toc-text">8.3.2 负载均衡算法对比</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.9.4.</span> <span class="toc-text">8.4 网络优化面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-1-CDN%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-number">1.9.4.1.</span> <span class="toc-text">8.4.1 CDN优化策略</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-2-%E9%AB%98%E5%B9%B6%E5%8F%91%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96"><span class="toc-number">1.9.4.2.</span> <span class="toc-text">8.4.2 高并发网络优化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.10.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">1.11.</span> <span class="toc-text">参考文献</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/08/18/Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="Linux系统管理核心知识点详解"><img src="/img/cover/eca45645431b46fea6db1634a45287b2_0.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Linux系统管理核心知识点详解"></a><div class="content"><a class="title" href="/2025/08/18/Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="Linux系统管理核心知识点详解">Linux系统管理核心知识点详解</a><time datetime="2025-08-18T15:46:10.000Z" title="发表于 2025-08-18 23:46:10">2025-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="计算机网络核心知识点详解"><img src="/img/cover/eca45645431b46fea6db1634a45287b2_3.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="计算机网络核心知识点详解"></a><div class="content"><a class="title" href="/2025/08/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="计算机网络核心知识点详解">计算机网络核心知识点详解</a><time datetime="2025-08-18T15:33:50.000Z" title="发表于 2025-08-18 23:33:50">2025-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E7%AC%94%E8%AF%95%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="数据结构与算法笔试核心知识点详解"><img src="/img/cover/9f13ef7ffc274ea1974a8c4bd3849b26_3.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="数据结构与算法笔试核心知识点详解"></a><div class="content"><a class="title" href="/2025/08/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E7%AC%94%E8%AF%95%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3/" title="数据结构与算法笔试核心知识点详解">数据结构与算法笔试核心知识点详解</a><time datetime="2025-08-18T14:54:27.000Z" title="发表于 2025-08-18 22:54:27">2025-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/18/JVM%E5%8E%9F%E7%90%86%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/" title="JVM原理深度解析与调优实战"><img src="/img/cover/eca45645431b46fea6db1634a45287b2_2.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="JVM原理深度解析与调优实战"></a><div class="content"><a class="title" href="/2025/08/18/JVM%E5%8E%9F%E7%90%86%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/" title="JVM原理深度解析与调优实战">JVM原理深度解析与调优实战</a><time datetime="2025-08-18T14:54:20.000Z" title="发表于 2025-08-18 22:54:20">2025-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/15/JWT%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3/" title="JWT技术详解：原理、应用与最佳实践"><img src="/img/cover/eca45645431b46fea6db1634a45287b2_0.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="JWT技术详解：原理、应用与最佳实践"></a><div class="content"><a class="title" href="/2025/08/15/JWT%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3/" title="JWT技术详解：原理、应用与最佳实践">JWT技术详解：原理、应用与最佳实践</a><time datetime="2025-08-15T14:13:47.000Z" title="发表于 2025-08-15 22:13:47">2025-08-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/cover/footer-bg.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By CanJisam</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.3.5/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.3.5/source/js/main.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.3.5/source/js/tw_cn.min.js"></script><div class="js-pjax"><script>(()=>{const t="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,e={distractionFreeMode:!0},n=t=>{const e=document.querySelector("#post-meta .gitalk-comment-count");e&&(e.textContent=t)},i=(i,a)=>{t&&(window.shuoshuoComment.destroyGitalk=()=>{i.children.length&&(i.innerHTML="",i.classList.add("no-comment"))});new Gitalk({clientID:"Ov23lifFntnoMvOg1Fir",clientSecret:"0596c9896ad9c699f2188c823bce11b2d3d231e6",repo:"canjisam.github.io",owner:"canjisam",admin:["canjisam"],updateCountCallback:n,...e,id:t?a:e&&e.id||"8397a93df3755b43e0065479e54631e0"}).render("gitalk-container")},a=async(t,e)=>{"function"==typeof Gitalk||(await btf.getCSS("https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css"),await btf.getScript("https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js")),i(t,e)};t?window.shuoshuoComment={loadComment:a}:a()})()</script></div><script>window.XF_API_KEY="33ec326f4348794e214e464ff2990f32",window.XF_API_SECRET="NDQ3NGYyZWMwZWQ0ZWQ4ZWUzMTMwY2Y4"</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章..." type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.3.5/source/js/search/local-search.min.js"></script></div></div></body></html>